<div class="conversation-list">
    {% if error %}
        <div class="error-message">{{ error }}</div>
    {% endif %}
    
    {% if conversations %}
        {% for conv in conversations %}
        <div class="conversation-item" 
             title="{{ conv.description }}"
             onclick="openConversation('{{ conv.id }}')">
            {{ loop.index }}. {{ conv.name }}
            {% if conv.description %}
            <div class="conversation-description">{{ conv.description }}</div>
            {% endif %}
        </div>
        {% endfor %}
    {% else %}
        <div class="no-conversations">
            No conversations found. Start a new one!
        </div>
    {% endif %}
</div>

<script>
function openConversation(convId) {
    if (convId) {
        const sessionId = localStorage.getItem('sessionId');
        window.location.href = '/conversationscreen/' + convId + '?session=' + sessionId;
    }
}
</script>
{% endblock %}
